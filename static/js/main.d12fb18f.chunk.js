(this["webpackJsonpsuperhero-application"]=this["webpackJsonpsuperhero-application"]||[]).push([[0],{255:function(e,n,t){},256:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t(53),c=t(26),i=t(16),s=t(4),o=t(1);function u(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("h1",{children:"Welcome to SUPERHERO DATABASE!"})})}var l,p,d,j,h,b,x=t(23),O=t(60),m=t(6),f=t(7),g=Object(f.a)(x.c)(l||(l=Object(m.a)(["\n  width: 300px;\n  padding: 20px;\n  border: 1px solid #477405;\n"]))),v=f.a.label(p||(p=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  max-width: 200px;\n  padding-top: 15px;\n  padding-bottom: 15px;\n"]))),y=Object(f.a)(x.b)(d||(d=Object(m.a)(["\n  border-radius: 2px;\n  &:focus {\n    border-color: #4015fffb;\n    border-width: medium;\n  }\n"]))),w=f.a.div(j||(j=Object(m.a)(["\n  position: absolute;\n  top: 255px;\n  font-weight: 400;\n  font-size: 10px;\n  line-height: 1.2;\n  letter-spacing: 0.04em;\n  color: #eb5757;\n  font-weight: 400;\n  font-size: 10px;\n  line-height: 1.2;\n  letter-spacing: 0.04em;\n  color: #eb5757;\n"]))),_=f.a.div(h||(h=Object(m.a)(["\n  position: absolute;\n  top: 610px;\n  font-weight: 400;\n  font-size: 10px;\n  line-height: 1.2;\n  letter-spacing: 0.04em;\n  color: #eb5757;\n  font-weight: 400;\n  font-size: 10px;\n  line-height: 1.2;\n  letter-spacing: 0.04em;\n  color: #eb5757;\n"]))),k=f.a.div(b||(b=Object(m.a)(["\n  margin-top: 20px;\n"]))),C=t(10),F=t(13),S=t.n(F),H=t(29),Q=t(33),L=t.n(Q);L.a.defaults.baseURL="https://superheros-app-valeron.herokuapp.com/api/";var z,D=function(){var e=Object(H.a)(S.a.mark((function e(n){var t,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("/superhero?page=".concat(n));case 2:return t=e.sent,r=t.data,e.abrupt("return",r.data.result);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),E=function(){var e=Object(H.a)(S.a.mark((function e(n){var t,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("/superhero/".concat(n));case 2:return t=e.sent,r=t.data,e.abrupt("return",r.data.result);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),A=function(){var e=Object(H.a)(S.a.mark((function e(n){var t,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.delete("/superhero/".concat(n));case 2:return t=e.sent,r=t.data,e.abrupt("return",r.data.result);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),P=function(){var e=Object(H.a)(S.a.mark((function e(n){var t,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.put("/superhero/".concat(n.id),n);case 2:return t=e.sent,r=t.data,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),R=function(){var e=Object(H.a)(S.a.mark((function e(n){var t,r,a,c,i,s,o,u,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.nickname,r=n.real_name,a=n.origin_description,c=n.superpowers,i=n.catch_phrase,s=n.images,o={nickname:t,real_name:r,origin_description:a,superpowers:c,catch_phrase:i,images:s},e.next=4,L.a.post("/superhero",o);case 4:return u=e.sent,l=u.data,e.abrupt("return",l.data);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),M=f.a.button(z||(z=Object(m.a)(["\n  background-color: #0a0131ab;\n  margin-top: 20px;\n  margin-right: 20px;\n  color: white;\n  border-radius: 7px;\n  border-color: #201068ab;\n  cursor: pointer;\n  transition-delay: 250ms;\n  transition-timing-function: cubic-bezier(0.29, 1.01, 1, -0.68);\n  &:hover {\n    background-color: #5b5bbee6;\n    color: #0a0131ab;\n    border-color: #0a0131ab;\n  }\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n"]))),U=function(e){var n=e.text,t=e.onClick,r=e.disabled,a=e.type;return Object(o.jsx)(M,{type:a,onClick:t,disabled:r,children:n})},q=O.a({nickname:O.b().required(),images:O.b().url().required()});function V(){var e=function(){var e=Object(C.useQueryClient)();return{createHero:Object(C.useMutation)(R,{onSuccess:function(){e.invalidateQueries("/heros"),i.b.success("Hero create")}}).mutateAsync}}().createHero;return Object(o.jsx)(x.d,{initialValues:{nickname:"",real_name:"",origin_description:"",superpowers:"",catch_phrase:"",images:""},validationSchema:q,onSubmit:function(n,t){var r=t.resetForm;e(n),r({values:""})},children:function(e){var n=e.isValid,t=e.dirty;return Object(o.jsxs)(g,{autoComplete:"off",children:[Object(o.jsx)(v,{htmlFor:"nickname",children:"nickname"}),Object(o.jsx)(y,{name:"nickname",type:"text"}),Object(o.jsx)(x.a,{name:"nickname",children:function(e){return Object(o.jsx)(w,{children:e})}}),Object(o.jsx)(v,{htmlFor:"real_name",children:"real_name"}),Object(o.jsx)(y,{name:"real_name",type:"text"}),Object(o.jsx)(v,{htmlFor:"origin_description",children:"origin_description"}),Object(o.jsx)(y,{name:"origin_description",type:"text"}),Object(o.jsx)(v,{htmlFor:"superpowers",children:"superpowers"}),Object(o.jsx)(y,{name:"superpowers",type:"text"}),Object(o.jsx)(v,{htmlFor:"catch_phrase",children:"catch_phrase"}),Object(o.jsx)(y,{name:"catch_phrase",type:"text"}),Object(o.jsx)(v,{htmlFor:"images",children:"images URL"}),Object(o.jsx)(y,{name:"images",type:"text"}),Object(o.jsx)(x.a,{name:"images",children:function(e){return Object(o.jsx)(_,{children:e})}}),Object(o.jsx)(k,{children:Object(o.jsx)(U,{text:"Create Hero",type:"submit",disabled:!n&&!t})})]})}})}function B(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h1",{children:"Superheros Create"}),Object(o.jsx)(V,{})]})}var J,T,W,I,N=t(11),G=f.a.ul(J||(J=Object(m.a)(["\n  padding: 10px;\n  margin: 0;\n"]))),K=f.a.li(T||(T=Object(m.a)(["\n  padding: 10px;\n"]))),X=f.a.img(W||(W=Object(m.a)(["\n  width: 100%;\n  height: 260px;\n  object-fit: cover;\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover {\n    transform: scale(1.03);\n    cursor: zoom-in;\n  }\n"]))),Y=function(e){var n=e.heros,t=e.onDelete;return Object(o.jsx)(G,{children:n.map((function(e){var n=e._id,r=e.nickname,a=e.images;return Object(o.jsxs)(K,{children:[Object(o.jsx)(c.b,{to:"/superhero-application/heros/".concat(n),children:"".concat(r)}),Object(o.jsx)(X,{src:a,alt:r}),Object(o.jsx)(U,{text:"Delete",onClick:function(){return t(n)}})]},n)}))})},Z=f.a.div(I||(I=Object(m.a)(["\n  width: 500px;\n  padding-left: inherit;\n\n  border: 1px solid #477405;\n"]))),$=function(){var e=Object(r.useState)(1),n=Object(N.a)(e,2),t=n[0],a=n[1],c=function(){var e=Object(C.useQueryClient)();return{deleteHero:Object(C.useMutation)(A,{onSuccess:function(){e.invalidateQueries("/heros"),i.b.success("Hero deleted")}}).mutateAsync}}().deleteHero,s=function(e){var n=Object(r.useRef)(!1),t=Object(C.useQuery)(["/heros",e],(function(){return D(e)}),{keepPreviousData:!0,onSuccess:function(){n.current||(i.b.success("Heros loaded"),n.current=!0)}}),a=t.isLoading;return{data:t.data,isLoading:a,isError:t.isError,error:t.error,isFetching:t.isFetching}}(t),u=s.isLoading,l=s.data,p=s.isError,d=s.error,j=s.isFetching;return Object(o.jsxs)(Z,{children:[u&&Object(o.jsx)("div",{children:"Loading..."}),p&&Object(o.jsxs)("div",{children:["Error: ",d.message]}),l&&Object(o.jsx)(Y,{heros:l,onDelete:c}),Object(o.jsx)(U,{text:"Prev Page",disabled:1===t,onClick:function(){a((function(e){return e-1}))}}),Object(o.jsx)(U,{text:"Next Page",disabled:!(null===l||void 0===l?void 0:l.length)||(null===l||void 0===l?void 0:l.length)<5,onClick:function(){a((function(e){return e+1}))}}),j?Object(o.jsx)("span",{children:" Loading..."}):null]})};function ee(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h1",{children:"Superheros list"}),Object(o.jsx)($,{})]})}var ne,te,re,ae,ce,ie,se,oe=t(117),ue=t.n(oe),le=f.a.form(ne||(ne=Object(m.a)(["\n  margin-left: auto;\n  margin-right: auto;\n  display: flex;\n"]))),pe=f.a.div(te||(te=Object(m.a)(["\n  display: flex;\n  align-items: baseline;\n  flex-direction: column;\n  align-content: stretch;\n  justify-content: space-evenly;\n"]))),de=f.a.div(re||(re=Object(m.a)(["\n  display: flex;\n  align-items: center;\n"]))),je=f.a.label(ae||(ae=Object(m.a)(["\n  padding: 10px;\n  text-transform: uppercase;\n"]))),he=Object(f.a)(ue.a)(ce||(ce=Object(m.a)(["\n  width: 100%;\n  margin-right: 10px;\n  padding: 10px;\n  border: none;\n  text-transform: none;\n  & > input {\n    border: none;\n  }\n  & > input:focus {\n    outline: none;\n  }\n"]))),be=f.a.img(ie||(ie=Object(m.a)(["\n  height: 260px;\n  width: 260px;\n  object-fit: contain;\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover {\n    transform: scale(1.03);\n    cursor: zoom-in;\n  }\n"]))),xe=f.a.div(se||(se=Object(m.a)(["\n  position: absolute;\n  top: 350px;\n  bottom: -80px;\n  left: 335px;\n"])));function Oe(e){var n=e.hero,t=function(){var e=Object(C.useQueryClient)(),n=Object(C.useMutation)(P,{onMutate:function(){var n=Object(H.a)(S.a.mark((function n(t){var r;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.cancelQueries("/heros");case 2:return r=e.getQueryData(["/heros",t.id]),e.setQueryData(["/heros",t.id],t),n.abrupt("return",{previousHero:r,newHero:t});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),onError:function(n,t,r){e.setQueryData(["/heros",r.id],r.previousTodo)},onSettled:function(n){e.invalidateQueries(["/heros",n.id]),i.b.success("Hero update")}});return{updateHero:n.mutateAsync}}(),r=t.updateHero,a=n._id,c=n.nickname,s=n.real_name,u=n.origin_description,l=n.superpowers,p=n.catch_phrase,d=n.images,j=Object(x.e)({initialValues:{id:a,nickname:c,real_name:s,origin_description:u,superpowers:l,catch_phrase:p,images:d},onSubmit:function(e){r(e)}});return Object(o.jsxs)(le,{onSubmit:j.handleSubmit,children:[Object(o.jsx)(je,{htmlFor:"images",children:Object(o.jsx)(be,{src:d,alt:c})}),Object(o.jsxs)(pe,{children:[Object(o.jsxs)(de,{children:[Object(o.jsx)(je,{htmlFor:"nickname",children:"nickname"}),Object(o.jsx)(he,{name:"nickname",type:"text",onChange:j.handleChange,value:j.values.nickname})]}),Object(o.jsxs)(de,{children:[Object(o.jsx)(je,{htmlFor:"real_name",children:"real_name"}),Object(o.jsx)(he,{name:"real_name",type:"text",onChange:j.handleChange,value:j.values.real_name})]}),Object(o.jsxs)(de,{children:[Object(o.jsx)(je,{htmlFor:"origin_description",children:"origin_description"}),Object(o.jsx)(he,{name:"origin_description",type:"text",onChange:j.handleChange,value:j.values.origin_description})]}),Object(o.jsxs)(de,{children:[Object(o.jsx)(je,{htmlFor:"superpowers",children:"superpowers"}),Object(o.jsx)(he,{name:"superpowers",type:"text",onChange:j.handleChange,value:j.values.superpowers})]}),Object(o.jsxs)(de,{children:[Object(o.jsx)(je,{htmlFor:"catch_phrase",children:"catch_phrase"}),Object(o.jsx)(he,{name:"catch_phrase",type:"text",onChange:j.handleChange,value:j.values.catch_phrase})]})]}),Object(o.jsx)(xe,{children:Object(o.jsx)(U,{text:"Update Hero",type:"submit"})})]})}var me,fe=function(){var e=function(e){var n=Object(C.useQuery)(["/heros",e],(function(){return E(e)}),{onSuccess:function(){i.b.success("Hero loaded")}});return{data:n.data,isLoading:n.isLoading}}(Object(s.i)().id),n=e.isLoading,t=e.data;return Object(o.jsxs)("div",{children:[n&&Object(o.jsx)("div",{children:"Loading..."}),t&&Object(o.jsx)(Oe,{hero:t})]})},ge=t(71),ve=t(119),ye=["children","to"],we=function(e){var n=e.children,t=e.to,r=Object(ve.a)(e,ye),a=Object(s.g)({path:t,end:1===t.length});return Object(o.jsx)(c.b,Object(ge.a)(Object(ge.a)({to:t,style:{color:a?"blue":"black"}},r),{},{children:n}))};function _e(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("header",{children:[Object(o.jsx)(we,{to:"/superhero-application/",children:"Home"}),Object(o.jsx)(we,{to:"/superhero-application/heros",children:"Superhero List"}),Object(o.jsx)(we,{to:"/superhero-application/form",children:"Superhero Create"})]}),Object(o.jsx)("div",{children:Object(o.jsx)(s.a,{})})]})}var ke=f.a.div(me||(me=Object(m.a)(["\n  padding: 20px 50px;\n  margin-left: auto;\n  margin-right: auto;\n"])));function Ce(){return Object(o.jsxs)(ke,{children:[Object(o.jsx)(s.d,{children:Object(o.jsxs)(s.b,{path:"/superhero-application/",element:Object(o.jsx)(_e,{}),children:[Object(o.jsx)(s.b,{index:!0,element:Object(o.jsx)(u,{})}),Object(o.jsx)(s.b,{path:"/superhero-application/heros",element:Object(o.jsx)(ee,{})}),Object(o.jsx)(s.b,{path:"/superhero-application//heros/:id",element:Object(o.jsx)(fe,{})}),Object(o.jsx)(s.b,{path:"/superhero-application/form",element:Object(o.jsx)(B,{})})]})}),Object(o.jsx)(i.a,{position:"top-right"})]})}var Fe=t(118),Se=new C.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),He=function(e){var n=e.children;return Object(o.jsxs)(C.QueryClientProvider,{client:Se,children:[n,Object(o.jsx)(Fe.ReactQueryDevtools,{})]})};t(255);a.render(Object(o.jsx)(r.StrictMode,{children:Object(o.jsx)(c.a,{children:Object(o.jsx)(He,{children:Object(o.jsx)(Ce,{})})})}),document.getElementById("root"))}},[[256,1,2]]]);
//# sourceMappingURL=main.d12fb18f.chunk.js.map