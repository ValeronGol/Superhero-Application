{"version":3,"sources":["components/HeroForm/HeroForm.styled.jsx","hooks/useCreateHero.js","components/HeroForm/HeroForm.jsx","components/HeroList/HerotList.styled.jsx","components/Hero/Hero.styled.jsx","components/Hero/Hero.jsx","components/HeroList/HeroList.jsx","hooks/useFetchHeros.js","hooks/useDeleteHero.js","components/App/App.styled.jsx","components/App/App.jsx","components/Providers/Providers.jsx","index.js"],"names":["ConteinerForm","styled","Form","Button","button","Label","label","Input","Field","ErrorName","div","props","theme","fontFamily","ErrorImg","createHero","a","nickname","images","body","axios","post","response","data","validationSchema","Yup","required","url","HeroForm","queryClient","useQueryClient","useMutation","onSuccess","invalidateQueries","toast","success","mutateAsync","useCreateHero","initialValues","onSubmit","values","resetForm","isValid","dirty","autoComplete","htmlFor","name","type","msg","disabled","List","ul","Conteiner","Info","p","Img","img","Hero","_id","onDelete","src","alt","onClick","HeroList","heros","map","id","defaults","baseURL","fetchHeros","get","result","deleteHero","delete","resp","App","hasFetched","useRef","useQuery","current","useFetchHeros","useDeleteHero","position","QueryClient","defaultOptions","queries","refetchOnWindowFocus","Providers","children","client","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f819b919.chunk.js","sourcesContent":["import styled from '@emotion/styled';\nimport { Field, Form } from 'formik';\n\nexport const ConteinerForm = styled(Form)`\n  width: 300px;\n  padding: 20px;\n\n  border: 1px solid #477405;\n`;\n\nexport const Button = styled.button`\n  display: block;\n  margin-top: 20px;\n  background-color: #0a0131ab;\n  color: white;\n  border-radius: 7px;\n  border-color: #201068ab;\n  cursor: pointer;\n  transition-delay: 250ms;\n  transition-timing-function: cubic-bezier(0.29, 1.01, 1, -0.68);\n  &:hover {\n    background-color: #5b5bbee6;\n    color: #0a0131ab;\n    border-color: #0a0131ab;\n  }\n`;\nexport const Label = styled.label`\n  display: flex;\n  flex-direction: column;\n  max-width: 200px;\n  padding-top: 15px;\n  padding-bottom: 15px;\n`;\n\nexport const Input = styled(Field)`\n  border-radius: 2px;\n  &:focus {\n    border-color: #4015fffb;\n    border-width: medium;\n  }\n`;\n\nexport const ErrorName = styled.div`\n  position: absolute;\n  top: 195px;\n  font-family: ${props => props.theme.fontFamily};\n  font-weight: 400;\n  font-size: 10px;\n  line-height: 1.2;\n  letter-spacing: 0.04em;\n  color: #eb5757;\n  font-weight: 400;\n  font-size: 10px;\n  line-height: 1.2;\n  letter-spacing: 0.04em;\n  color: #eb5757;\n`;\nexport const ErrorImg = styled.div`\n  position: absolute;\n  top: 265px;\n  font-family: ${props => props.theme.fontFamily};\n  font-weight: 400;\n  font-size: 10px;\n  line-height: 1.2;\n  letter-spacing: 0.04em;\n  color: #eb5757;\n  font-weight: 400;\n  font-size: 10px;\n  line-height: 1.2;\n  letter-spacing: 0.04em;\n  color: #eb5757;\n`;\n","import axios from 'axios';\nimport toast from 'react-hot-toast';\nimport { useMutation, useQueryClient } from 'react-query';\n\nconst createHero = async ({ nickname, images }) => {\n  const body = {\n    nickname: nickname,\n    images: images,\n  };\n  const response = await axios.post(`/superhero`, body);\n  const { data } = response;\n  return data.data;\n};\n\nexport const useCreateHero = () => {\n  const queryClient = useQueryClient();\n  const { mutateAsync } = useMutation(createHero, {\n    onSuccess() {\n      queryClient.invalidateQueries('/heros');\n      toast.success('Hero create');\n    },\n  });\n  return {\n    createHero: mutateAsync,\n  };\n};\n","import { Formik, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport {\n  ConteinerForm,\n  Label,\n  Input,\n  Button,\n  ErrorName,\n  ErrorImg,\n} from './HeroForm.styled';\nimport { useCreateHero } from 'hooks/useCreateHero';\n\nconst validationSchema = Yup.object({\n  nickname: Yup.string().required(),\n  images: Yup.string().url(),\n});\n\nexport default function HeroForm() {\n  const { createHero } = useCreateHero();\n\n  return (\n    <Formik\n      initialValues={{ nickname: '', images: '' }}\n      validationSchema={validationSchema}\n      onSubmit={(values, { resetForm }) => {\n        createHero(values);\n        resetForm({ values: '' });\n      }}\n    >\n      {({ isValid, dirty }) => (\n        <ConteinerForm autoComplete=\"off\">\n          <Label htmlFor=\"nickname\">nickname</Label>\n\n          <Input name=\"nickname\" type=\"text\" />\n\n          <ErrorMessage name=\"nickname\">\n            {msg => <ErrorName>{msg}</ErrorName>}\n          </ErrorMessage>\n\n          <Label htmlFor=\"images\">images URL</Label>\n\n          <Input name=\"images\" type=\"text\" />\n\n          <ErrorMessage name=\"images\">\n            {msg => <ErrorImg>{msg}</ErrorImg>}\n          </ErrorMessage>\n          <Button type=\"submit\" disabled={!isValid && !dirty}>\n            Create Hero\n          </Button>\n        </ConteinerForm>\n      )}\n    </Formik>\n  );\n}\n","import styled from '@emotion/styled';\n\nexport const List = styled.ul`\n  padding: 10px;\n  margin: 0;\n`;\n","import styled from '@emotion/styled';\nexport const Conteiner = styled.div`\n  display: flex;\n  align-items: center;\n`;\nexport const Info = styled.p`\n  margin-right: 10px;\n`;\nexport const Img = styled.img`\n  width: 100%;\n  height: 260px;\n  object-fit: cover;\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover {\n    transform: scale(1.03);\n    cursor: zoom-in;\n  }\n`;\nexport const Button = styled.button`\n  border-radius: 3px;\n  transition-delay: 250ms;\n  transition-timing-function: cubic-bezier(0.29, 1.01, 1, -0.68);\n  cursor: pointer;\n  &:hover {\n    background-color: #2d2db6e6;\n    color: #f4f3f7ab;\n    border-color: #0a0131ab;\n  }\n`;\n","import { Conteiner, Info, Img, Button } from './Hero.styled';\n\nconst Hero = ({ nickname, images, _id, onDelete }) => (\n  <Conteiner>\n    <Info>\n      {`${nickname}`}\n      <Img src={images} alt={nickname} />\n    </Info>\n    <Button data-id={_id} onClick={onDelete}>\n      Delete\n    </Button>\n  </Conteiner>\n);\n\nexport default Hero;\n","import { List } from './HerotList.styled';\nimport Hero from 'components/Hero/Hero';\n\nconst HeroList = ({ heros, onDelete }) => (\n  <List>\n    {heros.map(({ _id, nickname, images }) => {\n      return (\n        <li key={_id}>\n          <Hero\n            id={_id}\n            nickname={nickname}\n            images={images}\n            onDelete={() => onDelete(_id)}\n          />\n        </li>\n      );\n    })}\n  </List>\n);\n\nexport default HeroList;\n","import { useRef } from 'react';\nimport { useQuery } from 'react-query';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\n\naxios.defaults.baseURL = 'https://superheros-app-valeron.herokuapp.com/api/';\n\nconst fetchHeros = async () => {\n  const response = await axios.get('/superhero');\n  return response.data.data.result;\n};\n\nexport const useFetchHeros = () => {\n  const hasFetched = useRef(false);\n  const { data } = useQuery('/heros', fetchHeros, {\n    onSuccess() {\n      if (!hasFetched.current) {\n        toast.success('Heros loaded');\n        hasFetched.current = true;\n      }\n    },\n  });\n\n  return {\n    heros: data,\n  };\n};\n","import axios from 'axios';\nimport toast from 'react-hot-toast';\nimport { useMutation, useQueryClient } from 'react-query';\n\nconst deleteHero = async id => {\n  const resp = await axios.delete(`/superhero/${id}`);\n  return resp.data.data.result;\n};\n\nexport const useDeleteHero = () => {\n  const queryClient = useQueryClient();\n  const { mutateAsync } = useMutation(deleteHero, {\n    onSuccess() {\n      queryClient.invalidateQueries('/heros');\n      toast.success('Hero deleted');\n    },\n  });\n  return {\n    deleteHero: mutateAsync,\n  };\n};\n","import styled from '@emotion/styled';\nexport const Conteiner = styled.div`\n  padding: 20px 50px;\n  margin-left: auto;\n  margin-right: auto;\n`;\n","import { Toaster } from 'react-hot-toast';\nimport HeroForm from 'components/HeroForm/HeroForm';\nimport HeroList from 'components/HeroList/HeroList';\nimport { useFetchHeros } from 'hooks/useFetchHeros';\nimport { useDeleteHero } from 'hooks/useDeleteHero';\n\nimport { Conteiner } from './App.styled';\n\nexport default function App() {\n  const { heros } = useFetchHeros();\n  const { deleteHero } = useDeleteHero();\n\n  return (\n    <Conteiner>\n      <h1>Suoperhero Create</h1>\n      <HeroForm />\n      <h1>Superheros list</h1>\n      {heros && <HeroList heros={heros} onDelete={deleteHero} />}\n      <Toaster position=\"top-right\" />\n    </Conteiner>\n  );\n}\n","import { QueryClient, QueryClientProvider } from 'react-query';\nimport { ReactQueryDevtools } from 'react-query/devtools';\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      refetchOnWindowFocus: false,\n    },\n  },\n});\n\nexport const Providers = ({ children }) => {\n  return (\n    <QueryClientProvider client={queryClient}>\n      {children}\n      <ReactQueryDevtools />\n    </QueryClientProvider>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from 'components/App/App';\nimport { Providers } from './components/Providers/Providers';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Providers>\n      <App />\n    </Providers>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}