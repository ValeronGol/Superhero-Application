(this["webpackJsonpsuperhero-application"]=this["webpackJsonpsuperhero-application"]||[]).push([[0],{244:function(e,n,t){},245:function(e,n,t){"use strict";t.r(n);var r,i,a,c,o,s,u,d=t(0),l=t.n(d),b=t(49),j=t.n(b),p=t(23),h=t(28),x=t(55),f=t(6),m=t(7),O=Object(m.a)(h.c)(r||(r=Object(f.a)(["\n  width: 300px;\n  padding: 20px;\n  border: 1px solid #477405;\n"]))),g=m.a.label(i||(i=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  max-width: 200px;\n  padding-top: 15px;\n  padding-bottom: 15px;\n"]))),v=Object(m.a)(h.b)(a||(a=Object(f.a)(["\n  border-radius: 2px;\n  &:focus {\n    border-color: #4015fffb;\n    border-width: medium;\n  }\n"]))),k=m.a.div(c||(c=Object(f.a)(["\n  position: absolute;\n  top: 195px;\n  font-family: ",";\n  font-weight: 400;\n  font-size: 10px;\n  line-height: 1.2;\n  letter-spacing: 0.04em;\n  color: #eb5757;\n  font-weight: 400;\n  font-size: 10px;\n  line-height: 1.2;\n  letter-spacing: 0.04em;\n  color: #eb5757;\n"])),(function(e){return e.theme.fontFamily})),y=m.a.div(o||(o=Object(f.a)(["\n  position: absolute;\n  top: 265px;\n  font-family: ",";\n  font-weight: 400;\n  font-size: 10px;\n  line-height: 1.2;\n  letter-spacing: 0.04em;\n  color: #eb5757;\n  font-weight: 400;\n  font-size: 10px;\n  line-height: 1.2;\n  letter-spacing: 0.04em;\n  color: #eb5757;\n"])),(function(e){return e.theme.fontFamily})),w=m.a.div(s||(s=Object(f.a)(["\n  margin-top: 20px;\n"]))),C=t(17),F=t.n(C),S=t(30),H=t(27),Q=t.n(H),z=t(12),D=function(){var e=Object(S.a)(F.a.mark((function e(n){var t,r,i,a,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.nickname,r=n.images,i={nickname:t,images:r},e.next=4,Q.a.post("/superhero",i);case 4:return a=e.sent,c=a.data,e.abrupt("return",c.data);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),L=m.a.button(u||(u=Object(f.a)(["\n  background-color: #0a0131ab;\n  margin-right: 20px;\n  color: white;\n  border-radius: 7px;\n  border-color: #201068ab;\n  cursor: pointer;\n  transition-delay: 250ms;\n  transition-timing-function: cubic-bezier(0.29, 1.01, 1, -0.68);\n  &:hover {\n    background-color: #5b5bbee6;\n    color: #0a0131ab;\n    border-color: #0a0131ab;\n  }\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n"]))),E=t(2),P=function(e){var n=e.text,t=e.onClick,r=e.disabled;return Object(E.jsx)(L,{onClick:t,disabled:r,children:n})},R=x.a({nickname:x.b().required(),images:x.b().url().required()});function q(){var e=function(){var e=Object(z.useQueryClient)();return{createHero:Object(z.useMutation)(D,{onSuccess:function(){e.invalidateQueries("/heros"),p.b.success("Hero create")}}).mutateAsync}}().createHero;return Object(E.jsx)(h.d,{initialValues:{nickname:"",images:""},validationSchema:R,onSubmit:function(n,t){var r=t.resetForm;e(n),r({values:""})},children:function(e){var n=e.isValid,t=e.dirty;return Object(E.jsxs)(O,{autoComplete:"off",children:[Object(E.jsx)(g,{htmlFor:"nickname",children:"nickname"}),Object(E.jsx)(v,{name:"nickname",type:"text"}),Object(E.jsx)(h.a,{name:"nickname",children:function(e){return Object(E.jsx)(k,{children:e})}}),Object(E.jsx)(g,{htmlFor:"images",children:"images URL"}),Object(E.jsx)(v,{name:"images",type:"text"}),Object(E.jsx)(h.a,{name:"images",children:function(e){return Object(E.jsx)(y,{children:e})}}),Object(E.jsx)(w,{children:Object(E.jsx)(P,{text:"Create Hero",type:"submit",disabled:!n&&!t})})]})}})}var M=t(22);Q.a.defaults.baseURL="https://superheros-app-valeron.herokuapp.com/api/";var A,J,U,V,B,I,N=function(){var e=Object(S.a)(F.a.mark((function e(n){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("/superhero?page=".concat(n));case 2:return t=e.sent,e.abrupt("return",t.data.data.result);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),W=function(){var e=Object(S.a)(F.a.mark((function e(n){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.delete("/superhero/".concat(n));case 2:return t=e.sent,e.abrupt("return",t.data.data.result);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),_=m.a.ul(A||(A=Object(f.a)(["\n  padding: 10px;\n  margin: 0;\n"]))),G=m.a.div(J||(J=Object(f.a)(["\n  display: flex;\n  align-items: center;\n"]))),K=m.a.p(U||(U=Object(f.a)(["\n  margin-right: 10px;\n"]))),T=m.a.img(V||(V=Object(f.a)(["\n  width: 100%;\n  height: 260px;\n  object-fit: cover;\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover {\n    transform: scale(1.03);\n    cursor: zoom-in;\n  }\n"]))),X=function(e){var n=e.nickname,t=e.images,r=e.onDelete;return Object(E.jsxs)(G,{children:[Object(E.jsxs)(K,{children:["".concat(n),Object(E.jsx)(T,{src:t,alt:n})]}),Object(E.jsx)(P,{text:"Delete",onClick:r})]})},Y=function(e){var n=e.heros,t=e.onDelete;return Object(E.jsx)(_,{children:n.map((function(e){var n=e._id,r=e.nickname,i=e.images;return Object(E.jsx)("li",{children:Object(E.jsx)(X,{id:n,nickname:r,images:i,onDelete:function(){return t(n)}})},n)}))})},Z=m.a.div(B||(B=Object(f.a)(["\n  width: 500px;\n  padding-left: inherit;\n\n  border: 1px solid #477405;\n"]))),$=function(){var e=Object(d.useState)(1),n=Object(M.a)(e,2),t=n[0],r=n[1],i=function(){var e=Object(z.useQueryClient)();return{deleteHero:Object(z.useMutation)(W,{onSuccess:function(){e.invalidateQueries("/heros"),p.b.success("Hero deleted")}}).mutateAsync}}().deleteHero,a=function(e){var n=Object(d.useRef)(!1),t=Object(z.useQuery)(["/heros",e],(function(){return N(e)}),{keepPreviousData:!0,onSuccess:function(){n.current||(p.b.success("Heros loaded"),n.current=!0)}}),r=t.isLoading;return{data:t.data,isLoading:r,isError:t.isError,error:t.error,isFetching:t.isFetching}}(t),c=a.isLoading,o=a.data,s=a.isError,u=a.error,l=a.isFetching;return Object(E.jsxs)(Z,{children:[c&&Object(E.jsx)("div",{children:"Loading..."})," ",s&&Object(E.jsxs)("div",{children:["Error: ",u.message]}),o&&Object(E.jsx)(Y,{heros:o,onDelete:i}),Object(E.jsx)(P,{text:"Prev Page",disabled:1===t,onClick:function(){r((function(e){return e-1}))}}),Object(E.jsx)(P,{text:"Next Page",disabled:!(null===o||void 0===o?void 0:o.length)||(null===o||void 0===o?void 0:o.length)<5,onClick:function(){r((function(e){return e+1}))}})," ",l?Object(E.jsx)("span",{children:" Loading..."}):null]})},ee=m.a.div(I||(I=Object(f.a)(["\n  padding: 20px 50px;\n  margin-left: auto;\n  margin-right: auto;\n"])));function ne(){return Object(E.jsxs)(ee,{children:[Object(E.jsx)("h1",{children:"Suoperhero Create"}),Object(E.jsx)(q,{}),Object(E.jsx)("h1",{children:"Superheros list"}),Object(E.jsx)($,{}),Object(E.jsx)(p.a,{position:"top-right"})]})}var te=t(111),re=new z.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),ie=function(e){var n=e.children;return Object(E.jsxs)(z.QueryClientProvider,{client:re,children:[n,Object(E.jsx)(te.ReactQueryDevtools,{})]})};t(244);j.a.render(Object(E.jsx)(l.a.StrictMode,{children:Object(E.jsx)(ie,{children:Object(E.jsx)(ne,{})})}),document.getElementById("root"))}},[[245,1,2]]]);
//# sourceMappingURL=main.98e8e3a4.chunk.js.map