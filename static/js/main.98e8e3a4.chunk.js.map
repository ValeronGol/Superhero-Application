{"version":3,"sources":["components/HeroForm/HeroForm.styled.jsx","hooks/useCreateHero.js","components/Btn/Btn.styled.jsx","components/Btn/Btn.jsx","components/HeroForm/HeroForm.jsx","helpers/fetchHeros.js","hooks/useDeleteHero.js","components/HeroList/HerotList.styled.jsx","components/Hero/Hero.styled.jsx","components/Hero/Hero.jsx","components/HeroList/HeroList.jsx","components/HerosPagination/HerosPagination.styled.jsx","components/HerosPagination/HerosPagination.jsx","hooks/useFetchHeros.js","components/App/App.styled.jsx","components/App/App.jsx","components/Providers/Providers.jsx","index.js"],"names":["ConteinerForm","styled","Form","Label","label","Input","Field","ErrorName","div","props","theme","fontFamily","ErrorImg","BtnContainer","createHero","a","nickname","images","body","axios","post","response","data","Button","button","Btn","text","onClick","disabled","validationSchema","Yup","required","url","HeroForm","queryClient","useQueryClient","useMutation","onSuccess","invalidateQueries","toast","success","mutateAsync","useCreateHero","initialValues","onSubmit","values","resetForm","isValid","dirty","autoComplete","htmlFor","name","type","msg","defaults","baseURL","fetchHeros","page","get","result","deleteHero","id","delete","resp","List","ul","Conteiner","Info","p","Img","img","Hero","onDelete","src","alt","HeroList","heros","map","_id","Container","HerosPagination","useState","setPage","useDeleteHero","hasFetched","useRef","useQuery","keepPreviousData","current","isLoading","isError","error","isFetching","useFetchHeros","message","old","length","App","position","QueryClient","defaultOptions","queries","refetchOnWindowFocus","Providers","children","client","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.98e8e3a4.chunk.js","sourcesContent":["import styled from '@emotion/styled';\nimport { Field, Form } from 'formik';\n\nexport const ConteinerForm = styled(Form)`\n  width: 300px;\n  padding: 20px;\n  border: 1px solid #477405;\n`;\n\nexport const Label = styled.label`\n  display: flex;\n  flex-direction: column;\n  max-width: 200px;\n  padding-top: 15px;\n  padding-bottom: 15px;\n`;\n\nexport const Input = styled(Field)`\n  border-radius: 2px;\n  &:focus {\n    border-color: #4015fffb;\n    border-width: medium;\n  }\n`;\n\nexport const ErrorName = styled.div`\n  position: absolute;\n  top: 195px;\n  font-family: ${props => props.theme.fontFamily};\n  font-weight: 400;\n  font-size: 10px;\n  line-height: 1.2;\n  letter-spacing: 0.04em;\n  color: #eb5757;\n  font-weight: 400;\n  font-size: 10px;\n  line-height: 1.2;\n  letter-spacing: 0.04em;\n  color: #eb5757;\n`;\nexport const ErrorImg = styled.div`\n  position: absolute;\n  top: 265px;\n  font-family: ${props => props.theme.fontFamily};\n  font-weight: 400;\n  font-size: 10px;\n  line-height: 1.2;\n  letter-spacing: 0.04em;\n  color: #eb5757;\n  font-weight: 400;\n  font-size: 10px;\n  line-height: 1.2;\n  letter-spacing: 0.04em;\n  color: #eb5757;\n`;\nexport const BtnContainer = styled.div`\n  margin-top: 20px;\n`;\n","import axios from 'axios';\nimport toast from 'react-hot-toast';\nimport { useMutation, useQueryClient } from 'react-query';\n\nconst createHero = async ({ nickname, images }) => {\n  const body = {\n    nickname: nickname,\n    images: images,\n  };\n  const response = await axios.post(`/superhero`, body);\n  const { data } = response;\n  return data.data;\n};\n\nexport const useCreateHero = () => {\n  const queryClient = useQueryClient();\n  const { mutateAsync } = useMutation(createHero, {\n    onSuccess() {\n      queryClient.invalidateQueries('/heros');\n      toast.success('Hero create');\n    },\n  });\n  return {\n    createHero: mutateAsync,\n  };\n};\n","import styled from '@emotion/styled';\n\nexport const Button = styled.button`\n  background-color: #0a0131ab;\n  margin-right: 20px;\n  color: white;\n  border-radius: 7px;\n  border-color: #201068ab;\n  cursor: pointer;\n  transition-delay: 250ms;\n  transition-timing-function: cubic-bezier(0.29, 1.01, 1, -0.68);\n  &:hover {\n    background-color: #5b5bbee6;\n    color: #0a0131ab;\n    border-color: #0a0131ab;\n  }\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n`;\n","import { Button } from './Btn.styled';\n\nconst Btn = ({ text, onClick, disabled }) => {\n  return (\n    <Button onClick={onClick} disabled={disabled}>\n      {text}\n    </Button>\n  );\n};\n\nexport default Btn;\n","import { Formik, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport {\n  ConteinerForm,\n  Label,\n  Input,\n  ErrorName,\n  ErrorImg,\n  BtnContainer,\n} from './HeroForm.styled';\nimport { useCreateHero } from 'hooks/useCreateHero';\nimport Btn from 'components/Btn/Btn';\n\nconst validationSchema = Yup.object({\n  nickname: Yup.string().required(),\n  images: Yup.string().url().required(),\n});\n\nexport default function HeroForm() {\n  const { createHero } = useCreateHero();\n\n  return (\n    <Formik\n      initialValues={{ nickname: '', images: '' }}\n      validationSchema={validationSchema}\n      onSubmit={(values, { resetForm }) => {\n        createHero(values);\n        resetForm({ values: '' });\n      }}\n    >\n      {({ isValid, dirty }) => (\n        <ConteinerForm autoComplete=\"off\">\n          <Label htmlFor=\"nickname\">nickname</Label>\n          <Input name=\"nickname\" type=\"text\" />\n          <ErrorMessage name=\"nickname\">\n            {msg => <ErrorName>{msg}</ErrorName>}\n          </ErrorMessage>\n          <Label htmlFor=\"images\">images URL</Label>\n          <Input name=\"images\" type=\"text\" />\n          <ErrorMessage name=\"images\">\n            {msg => <ErrorImg>{msg}</ErrorImg>}\n          </ErrorMessage>\n          <BtnContainer>\n            <Btn\n              text=\"Create Hero\"\n              type=\"submit\"\n              disabled={!isValid && !dirty}\n            />\n          </BtnContainer>\n        </ConteinerForm>\n      )}\n    </Formik>\n  );\n}\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://superheros-app-valeron.herokuapp.com/api/';\n\nexport const fetchHeros = async page => {\n  const response = await axios.get(`/superhero?page=${page}`);\n  return response.data.data.result;\n};\n","import axios from 'axios';\nimport toast from 'react-hot-toast';\nimport { useMutation, useQueryClient } from 'react-query';\n\nconst deleteHero = async id => {\n  const resp = await axios.delete(`/superhero/${id}`);\n  return resp.data.data.result;\n};\n\nexport const useDeleteHero = () => {\n  const queryClient = useQueryClient();\n  const { mutateAsync } = useMutation(deleteHero, {\n    onSuccess() {\n      queryClient.invalidateQueries('/heros');\n      toast.success('Hero deleted');\n    },\n  });\n  return {\n    deleteHero: mutateAsync,\n  };\n};\n","import styled from '@emotion/styled';\n\nexport const List = styled.ul`\n  padding: 10px;\n  margin: 0;\n`;\n","import styled from '@emotion/styled';\nexport const Conteiner = styled.div`\n  display: flex;\n  align-items: center;\n`;\nexport const Info = styled.p`\n  margin-right: 10px;\n`;\nexport const Img = styled.img`\n  width: 100%;\n  height: 260px;\n  object-fit: cover;\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover {\n    transform: scale(1.03);\n    cursor: zoom-in;\n  }\n`;\n","import { Conteiner, Info, Img } from './Hero.styled';\nimport Btn from 'components/Btn/Btn';\n\nconst Hero = ({ nickname, images, onDelete }) => (\n  <Conteiner>\n    <Info>\n      {`${nickname}`}\n      <Img src={images} alt={nickname} />\n    </Info>\n    <Btn text=\"Delete\" onClick={onDelete} />\n  </Conteiner>\n);\n\nexport default Hero;\n","import { List } from './HerotList.styled';\nimport Hero from 'components/Hero/Hero';\n\nconst HeroList = ({ heros, onDelete }) => (\n  <List>\n    {heros.map(({ _id, nickname, images }) => {\n      return (\n        <li key={_id}>\n          <Hero\n            id={_id}\n            nickname={nickname}\n            images={images}\n            onDelete={() => onDelete(_id)}\n          />\n        </li>\n      );\n    })}\n  </List>\n);\n\nexport default HeroList;\n","import styled from '@emotion/styled';\n\nexport const Container = styled.div`\n  width: 500px;\n  padding-left: inherit;\n\n  border: 1px solid #477405;\n`;\n","import { useState } from 'react';\nimport { useFetchHeros } from 'hooks/useFetchHeros';\nimport { useDeleteHero } from 'hooks/useDeleteHero';\nimport HeroList from 'components/HeroList/HeroList';\nimport Btn from 'components/Btn/Btn';\nimport { Container } from './HerosPagination.styled';\n\nconst HerosPagination = () => {\n  const [page, setPage] = useState(1);\n  const { deleteHero } = useDeleteHero();\n  const { isLoading, data, isError, error, isFetching } = useFetchHeros(page);\n\n  return (\n    <Container>\n      {isLoading && <div>Loading...</div>}{' '}\n      {isError && <div>Error: {error.message}</div>}\n      {data && <HeroList heros={data} onDelete={deleteHero} />}\n      <Btn\n        text=\"Prev Page\"\n        disabled={page === 1}\n        onClick={() => {\n          setPage(old => old - 1);\n        }}\n      />\n      <Btn\n        text=\"Next Page\"\n        disabled={!data?.length || data?.length < 5}\n        onClick={() => {\n          setPage(old => old + 1);\n        }}\n      />{' '}\n      {isFetching ? <span> Loading...</span> : null}\n    </Container>\n  );\n};\nexport default HerosPagination;\n","import { useQuery } from 'react-query';\nimport { useRef } from 'react';\n\nimport toast from 'react-hot-toast';\nimport { fetchHeros } from 'helpers/fetchHeros';\n\nexport const useFetchHeros = page => {\n  const hasFetched = useRef(false);\n\n  const { isLoading, data, isError, error, isFetching } = useQuery(\n    ['/heros', page],\n    () => fetchHeros(page),\n    {\n      keepPreviousData: true,\n      onSuccess() {\n        if (!hasFetched.current) {\n          toast.success('Heros loaded');\n          hasFetched.current = true;\n        }\n      },\n    },\n  );\n\n  return {\n    data,\n    isLoading,\n    isError,\n    error,\n    isFetching,\n  };\n};\n","import styled from '@emotion/styled';\n\nexport const Conteiner = styled.div`\n  padding: 20px 50px;\n  margin-left: auto;\n  margin-right: auto;\n`;\n","import { Toaster } from 'react-hot-toast';\r\nimport HeroForm from 'components/HeroForm/HeroForm';\r\n\r\nimport HerosPagination from 'components/HerosPagination/HerosPagination';\r\n\r\nimport { Conteiner } from './App.styled';\r\n\r\nexport default function App() {\r\n  return (\r\n    <Conteiner>\r\n      <h1>Suoperhero Create</h1>\r\n      <HeroForm />\r\n      <h1>Superheros list</h1>\r\n      <HerosPagination />\r\n      <Toaster position=\"top-right\" />\r\n    </Conteiner>\r\n  );\r\n}\r\n","import { QueryClient, QueryClientProvider } from 'react-query';\nimport { ReactQueryDevtools } from 'react-query/devtools';\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      refetchOnWindowFocus: false,\n    },\n  },\n});\n\nexport const Providers = ({ children }) => {\n  return (\n    <QueryClientProvider client={queryClient}>\n      {children}\n      <ReactQueryDevtools />\n    </QueryClientProvider>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from 'components/App/App';\nimport { Providers } from './components/Providers/Providers';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Providers>\n      <App />\n    </Providers>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}