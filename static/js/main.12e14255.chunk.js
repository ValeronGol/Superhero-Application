(this["webpackJsonpsuperhero-application"]=this["webpackJsonpsuperhero-application"]||[]).push([[0],{251:function(e,n,t){},252:function(e,n,t){"use strict";t.r(n);var r=t(0),i=t(53),c=t(24),a=t(27),o=t(4),s=t(1);function u(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("h1",{children:"Welcome to SUPERHERO DATABASE!"})})}var l,d,j,b,p,h,x,O=t(33),f=t(60),m=t(7),g=t(8),v=Object(g.a)(O.c)(l||(l=Object(m.a)(["\n  width: 300px;\n  padding: 20px;\n  border: 1px solid #477405;\n"]))),k=g.a.label(d||(d=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  max-width: 200px;\n  padding-top: 15px;\n  padding-bottom: 15px;\n"]))),y=Object(g.a)(O.b)(j||(j=Object(m.a)(["\n  border-radius: 2px;\n  &:focus {\n    border-color: #4015fffb;\n    border-width: medium;\n  }\n"]))),w=g.a.div(b||(b=Object(m.a)(["\n  position: absolute;\n  top: 195px;\n  font-family: ",";\n  font-weight: 400;\n  font-size: 10px;\n  line-height: 1.2;\n  letter-spacing: 0.04em;\n  color: #eb5757;\n  font-weight: 400;\n  font-size: 10px;\n  line-height: 1.2;\n  letter-spacing: 0.04em;\n  color: #eb5757;\n"])),(function(e){return e.theme.fontFamily})),C=g.a.div(p||(p=Object(m.a)(["\n  position: absolute;\n  top: 265px;\n  font-family: ",";\n  font-weight: 400;\n  font-size: 10px;\n  line-height: 1.2;\n  letter-spacing: 0.04em;\n  color: #eb5757;\n  font-weight: 400;\n  font-size: 10px;\n  line-height: 1.2;\n  letter-spacing: 0.04em;\n  color: #eb5757;\n"])),(function(e){return e.theme.fontFamily})),F=g.a.div(h||(h=Object(m.a)(["\n  margin-top: 20px;\n"]))),S=t(16),L=t.n(S),H=t(32),Q=t(28),D=t.n(Q),E=t(13),z=function(){var e=Object(H.a)(L.a.mark((function e(n){var t,r,i,c,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.nickname,r=n.images,i={nickname:t,images:r},e.next=4,D.a.post("/superhero",i);case 4:return c=e.sent,a=c.data,e.abrupt("return",a.data);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),P=g.a.button(x||(x=Object(m.a)(["\n  background-color: #0a0131ab;\n  margin-right: 20px;\n  color: white;\n  border-radius: 7px;\n  border-color: #201068ab;\n  cursor: pointer;\n  transition-delay: 250ms;\n  transition-timing-function: cubic-bezier(0.29, 1.01, 1, -0.68);\n  &:hover {\n    background-color: #5b5bbee6;\n    color: #0a0131ab;\n    border-color: #0a0131ab;\n  }\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n"]))),R=function(e){var n=e.text,t=e.onClick,r=e.disabled;return Object(s.jsx)(P,{onClick:t,disabled:r,children:n})},A=f.a({nickname:f.b().required(),images:f.b().url().required()});function q(){var e=function(){var e=Object(E.useQueryClient)();return{createHero:Object(E.useMutation)(z,{onSuccess:function(){e.invalidateQueries("/heros"),a.b.success("Hero create")}}).mutateAsync}}().createHero;return Object(s.jsx)(O.d,{initialValues:{nickname:"",images:""},validationSchema:A,onSubmit:function(n,t){var r=t.resetForm;e(n),r({values:""})},children:function(e){var n=e.isValid,t=e.dirty;return Object(s.jsxs)(v,{autoComplete:"off",children:[Object(s.jsx)(k,{htmlFor:"nickname",children:"nickname"}),Object(s.jsx)(y,{name:"nickname",type:"text"}),Object(s.jsx)(O.a,{name:"nickname",children:function(e){return Object(s.jsx)(w,{children:e})}}),Object(s.jsx)(k,{htmlFor:"images",children:"images URL"}),Object(s.jsx)(y,{name:"images",type:"text"}),Object(s.jsx)(O.a,{name:"images",children:function(e){return Object(s.jsx)(C,{children:e})}}),Object(s.jsx)(F,{children:Object(s.jsx)(R,{text:"Create Hero",type:"submit",disabled:!n&&!t})})]})}})}function M(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{children:"Superheros Create"}),Object(s.jsx)(q,{})]})}var U=t(10);D.a.defaults.baseURL="https://superheros-app-valeron.herokuapp.com/api/";var B,J,V,W,I,N=function(){var e=Object(H.a)(L.a.mark((function e(n){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/superhero?page=".concat(n));case 2:return t=e.sent,e.abrupt("return",t.data.data.result);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),T=function(){var e=Object(H.a)(L.a.mark((function e(n){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/superhero/".concat(n));case 2:return t=e.sent,e.abrupt("return",t.data.data.result);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),_=function(){var e=Object(H.a)(L.a.mark((function e(n){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.delete("/superhero/".concat(n));case 2:return t=e.sent,e.abrupt("return",t.data.data.result);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),G=g.a.ul(B||(B=Object(m.a)(["\n  padding: 10px;\n  margin: 0;\n"]))),K=g.a.div(J||(J=Object(m.a)(["\n  display: flex;\n  align-items: center;\n"]))),X=g.a.p(V||(V=Object(m.a)(["\n  margin-right: 10px;\n"]))),Y=g.a.img(W||(W=Object(m.a)(["\n  width: 100%;\n  height: 260px;\n  object-fit: cover;\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover {\n    transform: scale(1.03);\n    cursor: zoom-in;\n  }\n"]))),Z=function(e){var n=e.nickname,t=e.images,r=e.onDelete;return Object(s.jsxs)(K,{children:[Object(s.jsxs)(X,{children:["".concat(n),Object(s.jsx)(Y,{src:t,alt:n})]}),Object(s.jsx)(R,{text:"Delete",onClick:r})]})},$=function(e){var n=e.heros,t=e.onDelete;return Object(s.jsx)(G,{children:n.map((function(e){var n=e._id,r=e.nickname,i=e.images;return Object(s.jsx)(c.b,{to:"/superhero-application/heros/".concat(n),children:Object(s.jsx)(Z,{id:n,nickname:r,images:i,onDelete:function(){return t(n)}})},n)}))})},ee=g.a.div(I||(I=Object(m.a)(["\n  width: 500px;\n  padding-left: inherit;\n\n  border: 1px solid #477405;\n"]))),ne=function(){var e=Object(r.useState)(1),n=Object(U.a)(e,2),t=n[0],i=n[1],c=function(){var e=Object(E.useQueryClient)();return{deleteHero:Object(E.useMutation)(_,{onSuccess:function(){e.invalidateQueries("/heros"),a.b.success("Hero deleted")}}).mutateAsync}}().deleteHero,o=function(e){var n=Object(r.useRef)(!1),t=Object(E.useQuery)(["/heros",e],(function(){return N(e)}),{keepPreviousData:!0,onSuccess:function(){n.current||(a.b.success("Heros loaded"),n.current=!0)}}),i=t.isLoading;return{data:t.data,isLoading:i,isError:t.isError,error:t.error,isFetching:t.isFetching}}(t),u=o.isLoading,l=o.data,d=o.isError,j=o.error,b=o.isFetching;return Object(s.jsxs)(ee,{children:[u&&Object(s.jsx)("div",{children:"Loading..."}),d&&Object(s.jsxs)("div",{children:["Error: ",j.message]}),l&&Object(s.jsx)($,{heros:l,onDelete:c}),Object(s.jsx)(R,{text:"Prev Page",disabled:1===t,onClick:function(){i((function(e){return e-1}))}}),Object(s.jsx)(R,{text:"Next Page",disabled:!(null===l||void 0===l?void 0:l.length)||(null===l||void 0===l?void 0:l.length)<5,onClick:function(){i((function(e){return e+1}))}})," ",b?Object(s.jsx)("span",{children:" Loading..."}):null]})};function te(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{children:"Superheros list"}),Object(s.jsx)(ne,{})]})}var re,ie=function(){var e=function(e){var n=Object(E.useQuery)(["/heros",e],(function(){return T(e)}));return{data:n.data,isLoading:n.isLoading}}(Object(o.i)().id),n=e.isLoading,t=e.data;return Object(s.jsxs)("div",{children:[n&&Object(s.jsx)("div",{children:"Loading..."}),t&&Object(s.jsx)(Z,{nickname:t.nickname,images:t.images})]})},ce=t(71),ae=t(118),oe=["children","to"],se=function(e){var n=e.children,t=e.to,r=Object(ae.a)(e,oe),i=Object(o.g)({path:t,end:1===t.length});return Object(s.jsx)(c.b,Object(ce.a)(Object(ce.a)({to:t,style:{color:i?"blue":"black"}},r),{},{children:n}))};function ue(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("header",{children:[Object(s.jsx)(se,{to:"/superhero-application/",children:"Home"}),Object(s.jsx)(se,{to:"/superhero-application/heros",children:"Superhero List"}),Object(s.jsx)(se,{to:"/superhero-application/form",children:"Superhero Create"})]}),Object(s.jsx)("div",{children:Object(s.jsx)(o.a,{})})]})}var le=g.a.div(re||(re=Object(m.a)(["\n  padding: 20px 50px;\n  margin-left: auto;\n  margin-right: auto;\n"])));function de(){return Object(s.jsxs)(le,{children:[Object(s.jsx)(o.d,{children:Object(s.jsxs)(o.b,{path:"/superhero-application/",element:Object(s.jsx)(ue,{}),children:[Object(s.jsx)(o.b,{index:!0,element:Object(s.jsx)(u,{})}),Object(s.jsx)(o.b,{path:"/superhero-application/heros",element:Object(s.jsx)(te,{})}),Object(s.jsx)(o.b,{path:"/superhero-application//heros/:id",element:Object(s.jsx)(ie,{})}),Object(s.jsx)(o.b,{path:"/superhero-application/form",element:Object(s.jsx)(M,{})})]})}),Object(s.jsx)(a.a,{position:"top-right"})]})}var je=t(117),be=new E.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),pe=function(e){var n=e.children;return Object(s.jsxs)(E.QueryClientProvider,{client:be,children:[n,Object(s.jsx)(je.ReactQueryDevtools,{})]})};t(251);i.render(Object(s.jsx)(r.StrictMode,{children:Object(s.jsx)(c.a,{children:Object(s.jsx)(pe,{children:Object(s.jsx)(de,{})})})}),document.getElementById("root"))}},[[252,1,2]]]);
//# sourceMappingURL=main.12e14255.chunk.js.map